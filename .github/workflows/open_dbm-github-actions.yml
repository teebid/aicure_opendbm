# # This workflow will install Python dependencies, run tests and lint with Open DBM CI CD Specifications
# # For more information see: https://www.aicure.com/open_dbm#cicd

# name: OpenDBM Github Actions Configuration

# on:
#   push:
#     branches: [ master ]
#   pull_request:
#     branches: [ master ]
#   workflow_dispatch:

# jobs:
#   build:

#     runs-on: ubuntu-latest

#     steps:
#     - uses: actions/checkout@main
#     - name: Set up Python 3.9
#       uses: actions/setup-python@main
#       with:
#         python-version: 3.9
#     - name: Install dependencies
#       run: |
#         python -m pip install --upgrade pip
#         pip install flake8 pytest
#         if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

#     - name: linting
#       uses: programmingwithalex/pylinter@main
#       with:
#         python-root: '.'
#         flake8-flags: ''
#         mypy-flags: '--ignore-missing-imports'
#         fail-on-isort: false
#         skip-flake8: true

#     - name: commit isort changes
#       run: |
#         git config --local user.email "action@github.com"
#         git config --local user.name "GitHub Action"
#         git add -A && git diff-index --cached --quiet HEAD || git commit -m 'isort'

#     - name: push isort changes
#       uses: ad-m/github-push-action@master
#       with:
#         github_token: ${{ secrets.GITHUB_TOKEN }}
#         branch: ${{ github.ref }}

#     - name: Test with pytest
#       run: |
#         if [ -d tests ] || [ -d test ]; then python -m pytest; fi