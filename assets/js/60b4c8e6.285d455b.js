"use strict";(self.webpackChunkopendbm_website=self.webpackChunkopendbm_website||[]).push([[8801],{5318:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var r=n(7378);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(n),d=o,f=m["".concat(s,".").concat(d)]||m[d]||u[d]||a;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9245:function(e,t,n){n.r(t),n.d(t,{assets:function(){return h},contentTitle:function(){return d},default:function(){return k},frontMatter:function(){return m},metadata:function(){return f},toc:function(){return y}});var r=n(5318),o=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&p(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&p(e,n,t[n]);return e};const m={id:"odbm-rest-api",title:"OpenDBM REST API"},d=void 0,f={unversionedId:"odbm-rest-api",id:"odbm-rest-api",title:"OpenDBM REST API",description:"Summary",source:"@site/extras/odbm-rest-api.md",sourceDirName:".",slug:"/odbm-rest-api",permalink:"/aicure_opendbm/extras/odbm-rest-api",draft:!1,editUrl:"https://github.com/AiCure/open_dbm/blob/master/docs/extras/odbm-rest-api.md",tags:[],version:"current",lastUpdatedAt:1662453312,formattedLastUpdatedAt:"9/6/2022",frontMatter:{id:"odbm-rest-api",title:"OpenDBM REST API"},sidebar:"extras",previous:{title:"OpenDBM CI CD Pipeline",permalink:"/aicure_opendbm/extras/ci-cd-pipeline"},next:{title:"OpenDBM Documentation",permalink:"/aicure_opendbm/extras/odbm-doc"}},h={},y=[{value:"Summary",id:"summary",level:2},{value:"How to use",id:"how-to-use",level:2},{value:"Technology Stack",id:"technology-stack",level:2},{value:"API Documentations",id:"api-documentations",level:2}],b={toc:y};function k(e){var t,n=e,{components:o}=n,p=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(n,["components"]);return(0,r.kt)("wrapper",(t=u(u({},b),p),a(t,i({components:o,mdxType:"MDXLayout"}))),(0,r.kt)("h2",u({},{id:"summary"}),"Summary"),(0,r.kt)("p",null,"Inside the OpenDBM repository, there is a folder named rest_api. This folder means to showcase that you can leverage OpenDBM library in API service or Web application, which this folder will showcase the former. "),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"The OpenDBM API designed with OpenAPI 2.0 to standardize API definition for programmatic usage, better developer experience and documentation. It will also protected by standard security protocol. ")),(0,r.kt)("figure",null,(0,r.kt)("img",{src:"../docs/assets/odbm_api_summary.png",width:"500",alt:"OpenDBM REST API Summary"}),(0,r.kt)("figcaption",null,"ODBM REST API Summary")),(0,r.kt)("h2",u({},{id:"how-to-use"}),"How to use"),(0,r.kt)("p",null,"To use the Rest API is very straighforward"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Go to the ",(0,r.kt)("inlineCode",{parentName:"li"},"rest_api")," directory"),(0,r.kt)("li",{parentName:"ul"},"Install the neccessary dependencies")),(0,r.kt)("pre",null,(0,r.kt)("code",u({parentName:"pre"},{className:"language-commandline"}),"pip install -r requirements.txt\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Then you can use Make syntax to run it")),(0,r.kt)("pre",null,(0,r.kt)("code",u({parentName:"pre"},{className:"language-commandline"}),"make dev\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You can test using the OpenAPI specs like mentioned in ",(0,r.kt)("a",u({parentName:"li"},{href:"ci-cd-pipeline#unit-tests"}),"here"),'. Start with uploading the files, put the "local" string value in the ',(0,r.kt)("inlineCode",{parentName:"li"},"platform")," parameter, then save the upload file name. Then you can use any API you want, insert the previous upload file url into ",(0,r.kt)("inlineCode",{parentName:"li"},"file_url")," parameter. Then you can specify variables you want to get. For example, if you use the ",(0,r.kt)("inlineCode",{parentName:"li"},"/video/movement")," API, you can specify the request body like ")),(0,r.kt)("pre",null,(0,r.kt)("code",u({parentName:"pre"},{className:"language-json"}),'[\n    "head_movement",\n    "eye_blink"\n]\n')),(0,r.kt)("p",null,"After you execute the API, you will get the zip file, with the csv results compressed inside that file"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You can check more details on rest_api usage in ",(0,r.kt)("inlineCode",{parentName:"p"},"rest_api/README.md"))),(0,r.kt)("h2",u({},{id:"technology-stack"}),"Technology Stack"),(0,r.kt)("figure",null,(0,r.kt)("img",{src:"../docs/assets/odbm_tech_stack.png",width:"500",alt:"OpenDBM REST API Technology Stack"}),(0,r.kt)("figcaption",null,"ODBM REST API Technology Stack")),(0,r.kt)("p",null,"The OpenDBM API will use FastAPI framework. The main reason is because the asynchronous behaviour of FastAPI will works perfectly to complex and high performance methods like data upload, data pre / processing and other possible long operations."),(0,r.kt)("p",null,"We also use Uvicorn is an ASGI web server implementation for Python. Until recently Python has lacked a minimal low-level server/application interface for async frameworks. The ASGI specification fills this gap, and means we're now able to start building a common set of tooling usable across all async frameworks. Uvicorn currently supports HTTP/1.1 and WebSockets."),(0,r.kt)("h2",u({},{id:"api-documentations"}),"API Documentations"),(0,r.kt)("p",null,"The Rest API documentations can be found when you run the the app. Change the relative path to /docs or /redoc"),(0,r.kt)("figure",null,(0,r.kt)("img",{src:"../docs/assets/odbm_api_docs.png",width:"500",alt:"OpenDBM REST API Swagger API Docs"}),(0,r.kt)("figcaption",null,"ODBM REST API Swagger API Docs"),(0,r.kt)("img",{src:"../docs/assets/odbm_redocs.png",width:"500",alt:"OpenDBM REST API Redocs"}),(0,r.kt)("figcaption",null,"ODBM REST API Redocs")))}k.isMDXComponent=!0}}]);